{
    "link": "https://bbs.nga.cn/read.php?tid=42018392",
    "title": "è¯·æ•™å…³äºk8séƒ¨ç½²æ–¹å¼çš„ä¸€äº›é—®é¢˜",
    "post_time": "2024-10-11 16:57",
    "uid": "61917298",
    "content": "æ­£å¸¸æƒ…å†µä¸‹ï¼Œk8séƒ¨ç½²æ˜¯è¦åˆ†ä¸»ä»åˆ†ç¦»å—ï¼Ÿå°±æ˜¯ä¸»èŠ‚ç‚¹ä¸å®‰è£…kubelet å’Œ kube-proxyè¿™äº›ï¼Œè¿™ä¸¤ä¸ªåªåœ¨ä»èŠ‚ç‚¹ä¸Šè¿›è¡Œå®‰è£…ã€‚",
    "replies": [
        {
            "mid": "3363460",
            "mtime": "2024-10-11 17:43",
            "mcontent": "ä½ æ˜¯ä¸æ˜¯æŠŠ k8s çš„ master å’Œ worker ç†è§£ä¸ºæ•°æ®åº“çš„ä¸»ä»èŠ‚ç‚¹äº†ï¼Ÿè¿˜æ˜¯è¯´ä½ å‡†å¤‡å¤š master é«˜å¯ç”¨ï¼Ÿ(å¤šä¸ª master ä¹‹é—´ä¹Ÿä¸æ˜¯ä¸»ä»ï¼Œå®ƒä»¬æ˜¯å¯¹ç­‰çš„)k8s çš„ master åŸºæœ¬ä¸Šå°±æ˜¯ä¸ªé¢†å¯¼ï¼Œåªè´Ÿè´£å‘å·æ–½ä»¤(ç®¡ç†å’Œè°ƒåº¦ worker)ï¼Œworker æ‰æ˜¯å¹²æ´»çš„ã€‚æ‰€ä»¥ä¸å°‘äº‘æœåŠ¡å•†æä¾›çš„ k8s éƒ½æ˜¯æŠŠ master èŠ‚ç‚¹æ‰˜ç®¡äº†ï¼Œåªéœ€è¦ä¸º worker ä»˜è´¹ã€‚è€Œ worker èŠ‚ç‚¹æ²¡æœ‰ä¸»ä»ä¹‹åˆ†ï¼Œå“ªä¸ªèŠ‚ç‚¹æœ‰ç©ºé—²çš„èµ„æºï¼Œå°±è°ƒåº¦åˆ°å“ªä¸ªèŠ‚ç‚¹ã€‚å½“ç„¶ä½ å¯ä»¥è®¾ç½®èŠ‚ç‚¹äº²å’Œæ€§ï¼Œå³ï¼šè°ƒåº¦æ—¶ä¼˜å…ˆé€‰æ‹©/ä¸é€‰æ‹©ç¬¦åˆç‰¹å®šæ¡ä»¶çš„èŠ‚ç‚¹ã€‚ä½†è¿™ä¹Ÿä¸æ˜¯ä¸»ä»ã€‚è‡³äº master è¦ä¸è¦å®‰è£… kubetlet å’Œ kube-proxyï¼šä¸è¿‡ï¼Œcoredns, prom, å’Œ Ingress æ§åˆ¶å™¨ä¹Ÿä¸ä¸€å®šæ˜¯è¿è¡Œåœ¨ master èŠ‚ç‚¹ä¸Šçš„ï¼Œä»¥é˜¿é‡Œäº‘ä¸ºä¾‹ï¼šåªæœ‰ ALB Ingress Controller æ˜¯è¿è¡Œåœ¨ master èŠ‚ç‚¹(å³ï¼šæ‰˜ç®¡)çš„ã€‚coredns, prom å’Œ Nginx Ingress Controller éƒ½æ˜¯è¿è¡Œåœ¨ worker èŠ‚ç‚¹çš„ã€‚æ‰€ä»¥äº‘æœåŠ¡å•†æä¾›çš„ k8s master èŠ‚ç‚¹æ›´ç¬¦åˆæˆ‘å‰é¢è¯´çš„ â€œåªè´Ÿè´£å‘å·æ–½ä»¤  å®é™…ä¸å¹²æ´» â€"
        },
        {
            "mid": "6332469",
            "mtime": "2024-10-11 19:27",
            "mcontent": "å¤§ä½¬ç‰›é€¼ï¼Œ666ï¼Œçœ‹ä¸æ‡‚"
        },
        {
            "mid": "63758147",
            "mtime": "2024-10-14 02:39",
            "mcontent": "kubelet kube-proxyæ¯ä¸ªèŠ‚ç‚¹éƒ½è¦æœ‰çš„ï¼Œä¸ç„¶æ‹‰ä¸èµ·æ¥æœåŠ¡ï¼Œå‰©ä¸‹çš„å°±æ˜¯æ¥¼ä¸Šå¤§ä½¬è¯´çš„é‚£äº›(éƒ¨åˆ†å…¬å¸çš„ä¸šåŠ¡åœºæ™¯ï¼Œä¼šæŠŠmasterçš„podè°ƒåº¦ä¹Ÿæ‰“å¼€ï¼Œå®é™…æ ¹æ®ä½ è‡ªå·±çš„åœºæ™¯å’Œéœ€æ±‚æ¥å°±è¡Œ)"
        },
        {
            "mid": "61917298",
            "mtime": "2024-10-14 09:00",
            "mcontent": "ä¸‡åˆ†æ„Ÿè°¢æ‚¨ç»†è‡´çš„å›ç­”ï¼Œè¿™ä¸¤å¤©å®¶ä¸­æœ‰ç‚¹äº‹æƒ…ï¼Œçœ‹åˆ°çš„æ™šäº†äº›ï¼Œå®å±æŠ±æ­‰ã€‚æˆ‘ç°åœ¨æ˜¯æœ‰ä¸‰ä¸ªmasterèŠ‚ç‚¹ï¼Œ4ä¸ªnodeèŠ‚ç‚¹ã€‚masterèŠ‚ç‚¹æ²¡æœ‰éƒ¨ç½²kubeletå’Œkube-proxyï¼Œå¯¼è‡´äº†kube-apiserver æ— æ³•è®¿é—®é›†ç¾¤ä¸­çš„ Pod IP æˆ– Service IPï¼Œå¯¼è‡´ metrics-server æ— æ³•å·¥ä½œã€‚éœ€è¦å°† metrics-server é…ç½®ä¸º hostNetwork:trueï¼Œåœ¨è¿™ä¸ªå‚æ•°åŠ ä¸Šä¹‹åï¼Œmetrics-serverå¯ä»¥å¯åŠ¨äº†ï¼Œä½†æ˜¯è¿™é‡Œçš„IPä¼šå˜æˆä¸»æœºçš„å®é™…ipã€‚æˆ‘æƒ³è¯·æ•™ä¸€ä¸‹è¿™æ ·ä¼šä¸ä¼šæœ‰ä»€ä¹ˆå½±å“ã€‚æ­£å¸¸çš„åº”è¯¥æ˜¯æ€ä¹ˆæ ·å‘¢ã€‚æ„Ÿè°¢ğŸ™"
        },
        {
            "mid": "61917298",
            "mtime": "2024-10-14 09:05",
            "mcontent": "æ‚¨å¥½ï¼Œæˆ‘ç°åœ¨æ˜¯åœ¨ç»ƒä¹ ï¼Œåˆšåˆšå¼€å§‹å…¥é—¨k8sã€‚ç°åœ¨æ˜¯ä¸‰ä¸ªmasterèŠ‚ç‚¹å››ä¸ªnodeèŠ‚ç‚¹ã€‚masterèŠ‚ç‚¹æ²¡æœ‰å®‰è£…kubeletå’Œkube-proxyï¼Œç°åœ¨å¥½åƒæ˜¯æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œkube-apiserver æ— æ³•è®¿é—®é›†ç¾¤ä¸­çš„ Pod IP æˆ– Service IPã€‚å¯¼è‡´ä¸€äº›æœåŠ¡å¯åŠ¨ä¸èµ·æ¥ã€‚æƒ³æ¥è¯·æ•™ä¸€ä¸‹ï¼Œæˆ‘è¿™æ ·éƒ¨ç½²æ˜¯ä¸æ˜¯ä¸å¯¹å•Šï¼Ÿ"
        },
        {
            "mid": "61917298",
            "mtime": "2024-10-14 09:19",
            "mcontent": "æ‚¨è¿™ä¸ªAIæ˜¯ä»€ä¹ˆå•Šchatgptï¼Ÿ"
        },
        {
            "mid": "3363460",
            "mtime": "2024-10-14 09:28",
            "mcontent": "æˆ‘ä¸€èˆ¬å¸¸ç”¨è¿™å‡ ä¸ªï¼Œéƒ½æ˜¯å›½äº§å…è´¹çš„ï¼š[https:://tongyi.aliyun.com/qianwen/ æ­¤ç½‘é¡µä¸å±äºæœ¬ç½‘ç«™ï¼Œä¸ä¿è¯å…¶å®‰å…¨æ€§  ç»§ç»­è®¿é—® â€ƒ â€ƒ â€ƒ å–æ¶ˆ https://tongyi.aliyun.com/qianwen/ https://tongyi.aliyun.com/qianwen/]é€šä¹‰åƒé—®[https:://kimi.moonshot.cn/ æ­¤ç½‘é¡µä¸å±äºæœ¬ç½‘ç«™ï¼Œä¸ä¿è¯å…¶å®‰å…¨æ€§  ç»§ç»­è®¿é—® â€ƒ â€ƒ â€ƒ å–æ¶ˆ https://kimi.moonshot.cn/ https://kimi.moonshot.cn/]kimi[https:://yiyan.baidu.com/ æ­¤ç½‘é¡µä¸å±äºæœ¬ç½‘ç«™ï¼Œä¸ä¿è¯å…¶å®‰å…¨æ€§  ç»§ç»­è®¿é—® â€ƒ â€ƒ â€ƒ å–æ¶ˆ https://yiyan.baidu.com/ https://yiyan.baidu.com/]æ–‡å¿ƒä¸€è¨€è‡³äºä½ çš„é—®é¢˜ï¼Œè¿˜æ˜¯å»ºè®®åœ¨ master ä¸Šå®‰è£… kubelet å’Œ kube-proxyAI (é€šä¹‰åƒé—®) ä¹Ÿæ€»ç»“å¾—æ¯”è¾ƒå…¨é¢ï¼šå¦‚æœè¦é¿å… master éƒ¨ç½²ä¸šåŠ¡åº”ç”¨ï¼Œå¯ä»¥åŠ  taintï¼šmetrics-server ä¹Ÿä¸ä¸€å®šè¦éƒ¨ç½²åœ¨ master ä¸Šï¼Œä¾‹å¦‚é˜¿é‡Œäº‘ACKçš„ metrics-server å°±éƒ¨ç½²åœ¨ worker ä¸Šï¼šä½ æœ€å¼€å§‹æåˆ°çš„éš”ç¦»é—®é¢˜ï¼Œæ˜¯ä¸æ˜¯å¸Œæœ› master ä¸Šä¸è¦éƒ¨ç½²ä¸šåŠ¡åº”ç”¨ï¼Œåªéƒ¨ç½²å¿…è¦çš„ç³»ç»Ÿç»„ä»¶ï¼Ÿå¯ä»¥å‚è€ƒé˜¿é‡Œäº‘ACKè¿™ç§æ–¹å¼ï¼š"
        },
        {
            "mid": "61917298",
            "mtime": "2024-10-14 10:31",
            "mcontent": "å¯¹ï¼Œ æˆ‘æœ€åˆçš„ç›®çš„å°±æ˜¯ä¸è¦åœ¨masterèŠ‚ç‚¹ä¸Šéƒ¨ç½²åº”ç”¨ï¼Œæ‰€ä»¥åœ¨masterèŠ‚ç‚¹å°±åªéƒ¨ç½²äº†ä¸Šé¢æåˆ°çš„é‚£å‡ ä¸ªï¼Œæ²¡æœ‰éƒ¨ç½²kubeletå’Œkube-proxyï¼Œæ‰€ä»¥å¯¼è‡´äº†ç°åœ¨çš„é—®é¢˜ï¼Œä¸åŠ hostNetwork:trueå‚æ•°ï¼Œmetrics-serverå°±æ— æ³•å¯åŠ¨ï¼ŒåŠ äº†å°±ä¼šå˜æˆå®é™…ä¸»æœºçš„IPã€‚å¦‚æœåœ¨masterä¸Šéƒ¨ç½²kube-proxyï¼Œchatgptä¹Ÿä¸æ¨èã€‚ã€‚æˆ‘ä¹Ÿä¸çŸ¥é“åº”è¯¥æ€æ ·éƒ¨ç½²æ‰æ˜¯æœ€æ­£ç¡®çš„æ–¹å¼ã€‚éº»çƒ¦ç»™ä¸ªå»ºè®®ã€‚"
        },
        {
            "mid": "63758147",
            "mtime": "2024-10-14 10:46",
            "mcontent": "å¯ä»¥å‚è€ƒä¸€ä¸‹å®˜ç½‘æ–‡æ¡£ä¸Šå¯¹è¿™ä¸¤ä¸ªç»„ä»¶çš„æ¦‚è¿°[https:://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/ æ­¤ç½‘é¡µä¸å±äºæœ¬ç½‘ç«™ï¼Œä¸ä¿è¯å…¶å®‰å…¨æ€§  ç»§ç»­è®¿é—® â€ƒ â€ƒ â€ƒ å–æ¶ˆ https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/ https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/][https:://kubernetes.io/docs/reference/command-line-tools-reference/kube-proxy/ æ­¤ç½‘é¡µä¸å±äºæœ¬ç½‘ç«™ï¼Œä¸ä¿è¯å…¶å®‰å…¨æ€§  ç»§ç»­è®¿é—® â€ƒ â€ƒ â€ƒ å–æ¶ˆ https://kubernetes.io/docs/reference/command-line-tools-reference/kube-proxy/ https://kubernetes.io/docs/reference/command-line-tools-reference/kube-proxy/]"
        },
        {
            "mid": "3363460",
            "mtime": "2024-10-14 12:03",
            "mcontent": "æ—¢ç„¶ chatgpt å»ºè®®ä½ ä¸è¦åœ¨ master éƒ¨ç½² kubelet å’Œ kube-proxyï¼Œé‚£ä½ æŠŠä½ çš„åç»­é—®é¢˜ (metrics-server) æç»™ chatgpt çœ‹å®ƒæ€ä¹ˆå›ç­”å°±æ˜¯äº†ã€‚å› ä¸ºæˆ‘ä¸»è¦ä½¿ç”¨äº‘æœåŠ¡å•†æä¾›çš„ k8s(é˜¿é‡Œäº‘ ACK)ï¼Œmaster èŠ‚ç‚¹å¤©ç„¶å°±æ˜¯éš”ç¦»çš„(åŒæ˜¯é˜¿é‡Œå‡ºå“çš„) é€šä¹‰åƒé—®ä¹Ÿä¸€ç›´å»ºè®® master ä¹Ÿè¦éƒ¨ç½² kubelet å’Œ kube-proxyé˜¿é‡Œäº‘ACK çš„AIåŠ©ç†çš„å›ç­”ï¼šé˜¿é‡Œäº‘ACKä¸“æœ‰é›†ç¾¤(ç”¨æˆ·å¯ä»¥è‡ªè¡Œç®¡ç† master èŠ‚ç‚¹çš„é›†ç¾¤)çš„ master ä¹Ÿä¼šå®‰è£… kubelet å’Œ kube-proxyä¼šé€šè¿‡è¿™äº›æ–¹å¼é˜»æ­¢ä¸šåŠ¡åº”ç”¨éƒ¨ç½²åˆ° masterï¼š"
        },
        {
            "mid": "61917298",
            "mtime": "2024-10-14 12:23",
            "mcontent": "é—®ç€é—®ç€chatgptå°±å‚»äº†ã€‚ã€‚ é˜¿é‡Œæ€ä¹ˆæ¥æˆ‘æ€ä¹ˆæ¥ï¼Œæˆ‘å»é—®é€šä¹‰åƒé—®ã€‚æ„Ÿè°¢å¸®åŠ©ã€‚"
        },
        {
            "mid": "64114905",
            "mtime": "2024-10-14 22:09",
            "mcontent": "å‰é¢å·²ç»æœ‰å›å¤äº†kubeletæ¯ä¸ªèŠ‚ç‚¹å¿…é¡»éƒ½å®‰è£…ï¼Œè¿™æ˜¯æ‰€æœ‰èŠ‚ç‚¹å’Œapi serveré€šä¿¡çš„å¿…é¡»ç»„ä»¶kube-proxyæˆ‘è®°å¾—æ˜¯ä»¥daemonset æ–¹å¼éƒ¨ç½²åœ¨æ‰€æœ‰èŠ‚ç‚¹çš„ï¼Œä¸æ¸…æ¥šä½ æ€ä¹ˆå®ç°ä¸éƒ¨ç½²åœ¨æ§åˆ¶å¹³é¢èŠ‚ç‚¹(ä¹Ÿå°±æ˜¯ä½ è¯´çš„master)å…ˆç”¨ChatGPT æŸ¥æŸ¥ï¼Œæ¯”åœ¨è®ºå›é—®å¿«å¤šäº†"
        },
        {
            "mid": "251661",
            "mtime": "2024-10-15 00:18",
            "mcontent": "äºŒè¿›åˆ¶å®‰è£…å‡ æ¬¡ã€‚ æœåŠ¡å™¨æ­å»ºæ­å»ºã€‚  è¸©è¸©é›·é—®é—®AIåŸºæœ¬å°±æ™“å¾—ä¸ªå¤§æ¦‚äº†ã€‚"
        }
    ]
}