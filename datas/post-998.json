{
    "link": "https://bbs.nga.cn/read.php?tid=40392922",
    "title": "请教一下各位大佬关于决策路由的问题",
    "post_time": "2024-06-02 01:37",
    "uid": "65362752",
    "content": "我想要用shell脚本实现决策路由，假设我有三个路由器a，b，c。a与b之间link 的latency是100，bandwidth 是100mbps。b到c到a的总latency是200，bandwith是1gbps。我要在shell文件里面写一个脚本 ，让他区分不同协议的包，在我创建的两个静态路由表里面走。我设两个静态路由表，一个是table 100一个table200，对应不同的路径。然后在mangletable里面实现标记不同协议的包，比如说我标记tcp，udp包。标记的走table100。再标记另外非tcp，udp的其它包走table 200，要么换种方法？就是我该如何判断路由下的服务器上发送的什么包，根据包的大小走不同的路径。这个能在静态路由表中用shell脚本语言实现我这个需求吗？谢谢各位大佬了",
    "replies": [
        {
            "mid": "64328138",
            "mtime": "2024-06-02 18:58",
            "mcontent": "发包是你做的吗？搞一个网关  比如nginx然后负载均衡不简单吗？"
        },
        {
            "mid": "64328138",
            "mtime": "2024-06-02 19:12",
            "mcontent": "我的意思是越底层的东西，虽然效果好；但是懂的人少，开发难度大你配置个网关搞一下nginx不比你弄tcp ip 研究路由器简单多了？"
        },
        {
            "mid": "64594679",
            "mtime": "2024-06-03 00:14",
            "mcontent": "按照我的理解这个怎么也和shell没关系啊，主机上完成需要iptables规则，或者假如通过路由的话，路由规则只涉及网络层，你说的TCP/UDP都已经是传输层的东西了，完全搞不了啊"
        },
        {
            "mid": "42937034",
            "mtime": "2024-06-03 19:02",
            "mcontent": "这个是负载均衡里的，安装个qos，可以根据包类型、长度走不同的链路，也可以用现有的负载均衡算法，根据会话数量、会话连接状态、包大小、包类型、链路负载情况自动选最优链路的"
        }
    ]
}