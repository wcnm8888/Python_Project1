{
    "link": "https://bbs.nga.cn/read.php?tid=41020739",
    "title": "[其他] 请问模拟器“即时存档”，赛车游戏中“闪回”这种是啥原理实现的啊？",
    "post_time": "2024-07-27 21:21",
    "uid": "37023270",
    "content": "如题，",
    "replies": [
        {
            "mid": "62546497",
            "mtime": "2024-07-27 22:24",
            "mcontent": "模拟器的即时存档是完整保存一份内存到镜像文件，读档是从文件恢复到内存回溯的话，三种实现方式一种是每一帧或者每一tick记录一下所有人以及场景的状态，需要回溯时把所有人和场景调整到之前记录的状态即可。优点：实现简单，缺点：需要保存的数据量可能会很大。(市面上的主流游戏的回放功能基本上都是这种方式实现的)一种是记录所有人/物体的所有指令，然后按记录的顺序播放出来。魔兽3和一些老游戏就是这样的。这种方式不支持倒放，跳转到任意时间节点的代价也很大，好处是需要保存的数据特别少。"
        },
        {
            "mid": "37023270",
            "mtime": "2024-07-27 23:13",
            "mcontent": "大手子，回溯 那个 ，还有第3种呢？感谢。"
        },
        {
            "mid": "62546497",
            "mtime": "2024-07-27 23:48",
            "mcontent": "混合一下前两种方法，每隔一小段时间(比如1秒)保存一次，中间缺失的数据通过从前一个关键帧开始播放来补全，这种方法除了实现比较复杂和不支持倒放以外几乎没有什么缺点。"
        }
    ]
}