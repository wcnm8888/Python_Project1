{
    "link": "https://bbs.nga.cn/read.php?tid=39056563",
    "title": "用docker部署java项目一定要dockerfile做成Java的镜像吗？我直接docker cp到jdk容器里面去",
    "post_time": "2024-01-21 09:06",
    "uid": "65251974",
    "content": "然后nohup java -jar xxxxx.jar &",
    "replies": [
        {
            "mid": "62766823",
            "mtime": "2024-01-21 09:27",
            "mcontent": "按自己喜好来就好"
        },
        {
            "mid": "64634482",
            "mtime": "2024-01-21 10:43",
            "mcontent": "docker是一容器一进程而且docker本身就是做进程托管、重启和日志收集的， 你用nohup干嘛......"
        },
        {
            "mid": "65251974",
            "mtime": "2024-01-21 11:52",
            "mcontent": "nohup就是输出日志到指定文件啊。"
        },
        {
            "mid": "62480715",
            "mtime": "2024-01-21 12:45",
            "mcontent": "可是这样你还用 docker 干嘛呢？直接用物理机或者直接开个 VM 不是更好？"
        },
        {
            "mid": "60890981",
            "mtime": "2024-01-21 16:00",
            "mcontent": "那会存在几个问题第一个, 你本机的环境和容器的环境不一致第二个, 主程序挂了,docker容器服务不会挂,不能通过容器服务的状态判断主程序的状态第三个, 其他人不可维护"
        },
        {
            "mid": "64634482",
            "mtime": "2024-01-21 17:22",
            "mcontent": "对啊， 但是docker本身就是起到托管进程和托管日志的作用啊， 你都用nohup干这俩事了， 你还用docker干嘛...."
        },
        {
            "mid": "595942",
            "mtime": "2024-01-24 23:19",
            "mcontent": "这意思是启动一个java环境容器，然后后面所有应用都拷进这个容器跑？这启动空容器怎么让其守护允许？这怎么资源隔离，应用隔离，解藕？一个挂了，其他的怎么办？怎么自动化编译，打包，部署？dockerfile就这么难吗？这种操作被正常公司发现，还想不想混下去了？"
        },
        {
            "mid": "62025576",
            "mtime": "2024-01-24 23:49",
            "mcontent": "nohup跑甚至不如写个service，用systemd去管理"
        },
        {
            "mid": "65251974",
            "mtime": "2024-01-25 08:23",
            "mcontent": "可是我们公司就是这么干的呀，所以我出来问一问。"
        },
        {
            "mid": "38554127",
            "mtime": "2024-01-25 10:37",
            "mcontent": "如果你们公司真的是这样方式来使用docker的话，建议早点跑路吧(说真的编写Dockerfile主要的目的是固定化环境部署和配置的流程，通过Jenkins之类的开源的CI&CD平台，通过你们git仓库的Dockerfile去生成镜像文件，方便在实际的生产环境中通过镜像快速批量部署另外，并不推荐使用nohup的方式直接启动程序，后续的管理和维护都是很多麻烦的事情"
        }
    ]
}