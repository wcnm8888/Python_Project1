{
    "link": "https://bbs.nga.cn/read.php?tid=39569426",
    "title": "彦祖们，nacos运行一段时间就cpu飙升导致服务挂掉",
    "post_time": "2024-03-14 22:02",
    "uid": "64632442",
    "content": "症状就是单独运行nacos的时候啥事都没有，服务注册到nacos上之后过半小时到一小时的时候，nacos所有cpu核被占满，然后程序疯狂报grpc连接失败的错误，明明测试环境随便找台服务器从部署到启动完成也用不了5分钟，被这个nacos折磨死了",
    "replies": [
        {
            "mid": "5041763",
            "mtime": "2024-03-15 10:34",
            "mcontent": "看下网络连接多不多，7848 8848 9848端口，如果多的话，可能是注册服务的问题"
        },
        {
            "mid": "64632442",
            "mtime": "2024-03-18 14:30",
            "mcontent": "网络连接数量正常，大概一共2个服务有4个连接"
        },
        {
            "mid": "64632442",
            "mtime": "2024-03-18 14:31",
            "mcontent": "监控nacos的pid能有500多个线程，这个有问题吗，我现在修改了环境变量， export NACOS_COMMON_PROCESSORS=4 先观察一下"
        },
        {
            "mid": "5041763",
            "mtime": "2024-03-18 15:46",
            "mcontent": ""
        },
        {
            "mid": "39410275",
            "mtime": "2024-03-19 09:40",
            "mcontent": "nacos 确实很站CPU  你服务器什么配置"
        },
        {
            "mid": "64632442",
            "mtime": "2024-03-19 10:38",
            "mcontent": "16核24线程 256g内存 2t的硬盘。。肯定是够的，测试环境好几百人测几个月了都没事，生产这个服务器就不行了"
        },
        {
            "mid": "62479408",
            "mtime": "2024-03-21 13:51",
            "mcontent": "所有日志看看，可能jvm内存太低了"
        },
        {
            "mid": "64632442",
            "mtime": "2024-03-21 17:00",
            "mcontent": "给很大的，后来限制线程就没啥事了"
        },
        {
            "mid": "62479408",
            "mtime": "2024-03-21 17:21",
            "mcontent": "就是线程占用太多了"
        }
    ]
}