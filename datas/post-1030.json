{
    "link": "https://bbs.nga.cn/read.php?tid=40298012",
    "title": "有写C++的兄弟姐妹么？请教一下大型项目代码管理的问题",
    "post_time": "2024-05-25 09:03",
    "uid": "61389447",
    "content": "一个老项目，大概有几百个vcproj",
    "replies": [
        {
            "mid": "61414352",
            "mtime": "2024-05-25 09:34",
            "mcontent": "只用过bazel和cmakelist 没用过vs管理 不太清楚VS怎么搞"
        },
        {
            "mid": "61389447",
            "mtime": "2024-05-25 09:42",
            "mcontent": "那，你查看代码的时候，选中一个函数或者变量名啥的，点击跳转，怎么跳转的？能找到位置么？"
        },
        {
            "mid": "43089971",
            "mtime": "2024-05-25 09:55",
            "mcontent": "vscode的代码索引之类的是由lsp完成的，取决于你是用什么lsp如果使用clangd的话，需要提供一个compile_commands.json[https:://clangd.llvm.org/installation.html 此网页不属于本网站，不保证其安全性  继续访问       取消 https://clangd.llvm.org/installation.html https://clangd.llvm.org/installation.html]cmake的项目可以自动生成这个文件，vs不知道，可能有插件能搞定吧，建议往这个方向查一下如果你用别的lsp的话，应该也差不多"
        },
        {
            "mid": "3260753",
            "mtime": "2024-05-25 10:09",
            "mcontent": "vs不是可以直接导入cmake proj吗。。(虽然我从来不用vs"
        },
        {
            "mid": "61414352",
            "mtime": "2024-05-25 10:10",
            "mcontent": "你说的是ide的代码跳转 vs code安装c++插件就行 但是大型项目解析较慢visual studio应该自带这个功能了吧 不确定啊"
        },
        {
            "mid": "63206339",
            "mtime": "2024-05-25 14:35",
            "mcontent": "代码量可能太多了，我觉得vs可能有点崩溃。你可以先试着将部分转成cmake。微软的c++解析目前应该都是cpp-tools，这玩意的特点就是慢。你要不要先试着生成一下索引文件？"
        },
        {
            "mid": "61389447",
            "mtime": "2024-05-25 17:08",
            "mcontent": "Vs code和visual studio我都试过了，直接打开项目的根目录，然后在那放一晚上，第2天白天再去查看，用鼠标点击符号，然后跳转的话呢，都没有反应……不知道怎么激活索引"
        },
        {
            "mid": "61389447",
            "mtime": "2024-05-25 17:08",
            "mcontent": "“你要不要先试着生成一下索引文件？”怎么主动激活让它开始索引？"
        },
        {
            "mid": "63206339",
            "mtime": "2024-05-25 17:23",
            "mcontent": "你如果是visual studio的话，我很多年没用了。你去搜索一下有没有办法生成intelli sense索引。cpp-tools在vs code上是可以强制生成索引的。也有可能是你代码太大了，它自动生成耗时太久"
        },
        {
            "mid": "36858859",
            "mtime": "2024-05-25 22:51",
            "mcontent": "一堆vcproj说明这个项目当年就是用vs写的，你找找有没有后缀.sln的文件，多vcproj工程一般都是sln作为入口。如果没有你还真只能自己建一个解决方案然后把项目都导进去，拉vcproj就行。vs的项目依赖文件管理全都自成体系，切别的工具链都很困难。倒是有个叫vcproj2cmake的项目可以把那套转给cmake，但是要注意你这一堆vcproj可能相互之间是有依赖关系的，转cmake有可能出问题，如果你既不熟悉vs又不熟悉cmake万一出问题会很难搞。如果你觉得一口气导几百个vcproj很麻烦，一次只开一个vcproj也行，一个vcproj代表了一个编译目标(库文件或者可执行程序)，需要的源文件和依赖信息都是完整的。"
        },
        {
            "mid": "1647730",
            "mtime": "2024-05-26 22:45",
            "mcontent": "首先，你得安装c/c++插件。然后在根目录按快捷键ctrl+shift+p，选刚才那个插件c/c++，然后他会自己建个.json文件，里面需要配置一下，你网上搜下教程。。还有个方法就是用CMake，也是需要CMake Tools插件。方法和上面一样，配置的时候根据他的提示进行。还有个方法就是你说的“创建一个solution，把所有的vcproj都添加进来”"
        },
        {
            "mid": "61389447",
            "mtime": "2024-05-27 00:40",
            "mcontent": "好的我去试试！  前面两段，是讲的vscode，最后一段，是讲的visual studio，是吧？"
        },
        {
            "mid": "1647730",
            "mtime": "2024-05-27 08:22",
            "mcontent": "是的 是的。"
        },
        {
            "mid": "61389447",
            "mtime": "2024-05-27 09:17",
            "mcontent": "奇怪，不能直接打开项目的根目录，也就是workspace，然后自动索引该目录(包括子目录)下的所有文件么？vscode，我做web前端项目，都是这样的，很方便。符号什么的，都能找到，F12直接跳转"
        },
        {
            "mid": "1647730",
            "mtime": "2024-05-27 10:01",
            "mcontent": "c/c++扩展装了吗？估计没配置好。"
        },
        {
            "mid": "63782286",
            "mtime": "2024-05-27 10:17",
            "mcontent": "我理解，用vs打开一个proj文件，它的依赖项目也会自动打开的。"
        }
    ]
}